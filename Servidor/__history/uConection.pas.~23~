unit uConection;

interface

uses System.SysUtils, System.Classes, Datasnap.DSServer, Datasnap.DSAuth, Data.DB, Data.SqlExpr;

type
  TConection = class(TComponent)
    private

    public
      function NewConection(ConnectionName, DriverName: String; OUT SqlConn: TSQLConnection): Boolean;
      function NewDataSet(NameTabel: String; SqlConn: TSQLConnection): TSQLDataSet;
  end;

implementation

{ TConection }


function TConection.NewConection(ConnectionName, DriverName: String;
  out SqlConn: TSQLConnection): Boolean;
begin
  try
    SqlConn := TSQLConnection.Create(nil);
    with SqlConn do
    begin
      ConnectionName := ConnectionName;   //DB Geral
      DriverName := DriverName;           // Sqlite
      LoginPrompt := False;
      Connected := False;
    end;
  except
    result := False;
  end;
  Result := True;
  FreeAndNil(SqlConn);
end;

function TConection.NewDataSet(NameTabel: String;
  SqlConn: TSQLConnection): TSQLDataSet;
var
  SqlDtSet: TSQLDataSet;
begin
  try
    SqlDtSet := TSQLDataSet.Create(nil);
  except
    Result :=
  end;
  Result := SqlDtSet;
  FreeAndNil(SqlDtSet);
end;

end.
